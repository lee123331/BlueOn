<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ì„œë¹„ìŠ¤ ë“±ë¡ | BlueOn</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<style>
:root {
  --primary: #0056ff;
  --bg: #f3f4f6;
  --white: #ffffff;
  --line: #e5e7eb;
  --text-dark: #111827;
  --text-gray: #6b7280;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: "Noto Sans KR", sans-serif;
  background: var(--bg);
  color: var(--text-dark);
}

/* --------------------------- */
/* ìƒë‹¨ BlueOn í—¤ë” */
/* --------------------------- */
.bo-header {
  position: fixed;  
  top: 0;
  width: 100%;
  background: #ffffff;
  z-index: 1000;
  border-bottom: 1px solid #e5e7eb;
}

.bo-header-inner {
  max-width: 1400px;
  margin: 0 auto;
  padding: 14px 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.bo-logo span {
  font-size: 22px;
  font-weight: 800;
  color: #0056ff;
  cursor: pointer;
}

.bo-submit-btn {
  background: #0056ff;
  color: #fff;
  border: none;
  padding: 10px 18px;
  font-size: 15px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: 0.2s;
}
.bo-submit-btn:hover {
  background: #003fcc;
}

.bo-header-line {
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, #0056ff, #4f8bff);
}

/* --------------------------- */
/* ì „ì²´ ë ˆì´ì•„ì›ƒ */
/* --------------------------- */
.wrapper {
  display: flex;
  width: 100%;
  min-height: 100vh;
  margin-top: 100px;
}

/* --------------------------- */
/* ì™¼ìª½ ì‚¬ì´ë“œ */
/* --------------------------- */
aside {
  width: 230px;
  background: #fff;
  border-right: 1px solid var(--line);
  padding: 40px 20px;
  position: sticky;
  top: 100px;
  height: calc(100vh - 100px);
}

aside h2 {
  font-size: 20px;
  font-weight: 800;
  margin-bottom: 25px;
}

.menu-item {
  font-size: 15px;
  padding: 12px 10px;
  border-radius: 8px;
  margin-bottom: 6px;
  cursor: pointer;
  transition: 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
}

.menu-item:hover {
  background: #f5f7ff;
}

.menu-item.active {
  background: var(--primary);
  color: white;
}

/* --------------------------- */
/* ìš°ì¸¡ ì½˜í…ì¸  */
/* --------------------------- */
.content {
  flex: 1;
  padding: 40px;
  max-width: 1300px;
  margin: 0 auto;
}

.section { display: none; }
.section.active { display: block; }

/* ì¹´ë“œ */
.card {
  background: #fff;
  padding: 40px;
  border-radius: 18px;
  box-shadow: 0 6px 26px rgba(15,23,42,0.08);
  border: 1px solid var(--line);
  margin-bottom: 25px;
}

/* ì„¹ì…˜ í—¤ë” */
.section-header {
  margin-bottom: 26px;
}
.section-header .step-label {
  font-size: 11px;
  font-weight: 700;
  color: var(--primary);
  letter-spacing: 0.12em;
  margin-bottom: 6px;
}
.section-header h3 {
  font-size: 22px;
  font-weight: 800;
  margin-bottom: 4px;
}
.section-header p {
  font-size: 14px;
  color: var(--text-gray);
}

/* í¼ ì»¨íŠ¸ë¡¤ */
label {
  display: block;
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 6px;
  margin-top: 22px; /* ì „ì²´ ê°„ê²© ëŠ˜ë¦¼ */
}
label:first-of-type { margin-top: 0; }

input, textarea, select {
  width: 100%;
  padding: 13px 14px;
  border-radius: 10px;
  border: 1px solid var(--line);
  font-size: 15px;
  margin-bottom: 22px;
  outline: none;
  background: #fafafa;
}
input:focus, textarea:focus, select:focus {
  border-color: var(--primary);
  background: #ffffff;
}

/* --------------------------- */
/* í‚¤ì›Œë“œ row */
/* --------------------------- */
.keyword-row {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 24px;
  margin-bottom: 6px;
}

#keywordInput {
  flex: 1;
  height: 42px;
  padding: 0 14px;
}

#addKeywordBtn {
  height: 42px;
  padding: 0 16px;
  background: #0056ff;
  border: none;
  color: white;
  font-size: 15px;
  font-weight: 600;
  border-radius: 8px;
  margin-top: -20px;
  cursor: pointer;
}

#keywordCount {
   margin-bottom: 12px;
  font-size: 13px;
  color: #6b7280;
  width: 40px;
  text-align: right;
}



/* --------------------------- */
/* ì €ì¥ ë²„íŠ¼ */
/* --------------------------- */
.save-btn {
  background: var(--primary);
  color: white;
  font-size: 16px;
  font-weight: 700;
  border: none;
  padding: 15px 0;
  width: 200px;
  border-radius: 10px;
  cursor: pointer;
}
.save-btn:hover {
  background: #0041ca;
}
/* íŒ¨í‚¤ì§€ í† ê¸€ */
.price-toggle {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 13px;
  color: #6b7280;
}

/* í† ê¸€ ìŠ¤ìœ„ì¹˜ */
.switch {
  position: relative;
  display: inline-block;
  width: 42px;
  height: 22px;
}
.switch input { display:none; }
.slider {
  position: absolute;
  cursor: pointer;
  top: 50%;
  left: 0;
  right: 0;
  height: 22px;           /* ìŠ¬ë¼ì´ë” ë†’ì´ */
  transform: translateY(-27%);
  background-color: #d1d5db;
  transition: .2s;
  border-radius: 999px;
}

.slider:before {
  position:absolute;
  content:"";
  height:18px;
  width:18px;
  left:3px;
  bottom:2px;
  background-color:white;
  transition:.2s;
  border-radius:50%;
}
.switch input:checked + .slider {
  background-color: #0056ff;
}
.switch input:checked + .slider:before {
  transform: translateX(18px);
}

/* ê°€ê²© íŒ¨í‚¤ì§€ í…Œì´ë¸” */
.price-table {
  border-radius: 12px;
  border: 1px solid #e5e7eb;
  overflow: hidden;
  margin-top: 20px;
}

.price-table-header {
  display: grid;
  grid-template-columns: 160px repeat(3, 1fr);
  background: #f9fafb;
  border-bottom: 1px solid #e5e7eb;
}
.price-table-header div {
  padding: 14px 16px;
  font-size: 13px;
  font-weight: 700;
}

.price-row {
  display: grid;
  grid-template-columns: 160px repeat(3, 1fr);
  border-bottom: 1px solid #f1f5f9;
}
.price-row-label {
  padding: 12px 16px;
  background: #f9fafb;
  border-right: 1px solid #e5e7eb;
  font-size: 13px;
}
.price-cell {
  padding: 10px 12px;
}
.price-cell input,
.price-cell textarea {
  width: 100%;
  padding: 9px 10px;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  font-size: 13px;
}
/* ì´ë¯¸ì§€ ì¹´ë“œ ê·¸ë¦¬ë“œ */
.image-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  margin-bottom: 30px;
}

/* ì´ë¯¸ì§€ ì¹´ë“œ */
.img-card {
  width: 100%;
  padding-top: 75%; /* 4:3 ë¹„ìœ¨ */
  background: #f8fafc;
  border: 2px dashed #d4d7dd;
  border-radius: 12px;
  position: relative;
  cursor: pointer;
  background-size: cover;       /* ì—…ë¡œë“œëœ ì´ë¯¸ì§€ ë³´ê¸° */
  background-position: center;
  overflow: hidden;
}

.img-card::after {
  content: "+";
  font-size: 40px;
  color: #b4b7c2;
  font-weight: 300;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.img-card.has-image::after {
  display: none;
}

.image-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr); 
  gap: 16px;
  margin-bottom: 30px;
}
.image-tip-box {
  background: #f9fbff;
  border: 1px solid #dce6ff;
  border-radius: 10px;
  padding: 18px 20px;
  margin-bottom: 35px;
}

.image-tip-box .tip-title {
  font-weight: 800;
  font-size: 13px;
  color: #0056ff;
  margin-bottom: 10px;
}

.image-tip-box ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.image-tip-box li {
  font-size: 13px;
  color: #4b5563;
  margin-bottom: 6px;
  line-height: 1.45;
}
.request-card {
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 20px 24px;
  margin-bottom: 20px;
  position: relative;
}

.request-card h4 {
  margin: 0;
  font-size: 15px;
  font-weight: 700;
  color: #374151;
  margin-bottom: 8px;
}

.request-card input,
.request-card textarea {
  width: 100%;
  padding: 12px 14px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
  background: #fff;
  font-size: 14px;
  margin-bottom: 12px;
}

.delete-btn {
  position: absolute;
  top: 14px;
  right: 14px;
  background: none;
  border: none;
  cursor: pointer;
  font-size: 18px;
  color: #6b7280;      /* ê¸°ì¡´ë³´ë‹¤ ì¡°ê¸ˆ ë” ì§„í•˜ê²Œ */
  opacity: 0.85;
  transition: 0.15s;
}
.delete-btn:hover {
  color: #ef4444;      /* ë¶‰ì€ìƒ‰ìœ¼ë¡œ hover ê°•ì¡° */
  opacity: 1;
}
.add-request-btn {
  margin-top: 10px;
  margin-bottom: 20px;
  padding: 10px 14px;
  border: 1px solid #0056ff;
  background: #f0f5ff;
  border-radius: 8px;
  color: #0056ff;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
}

.request-info-guide {
  font-size: 13px;
  color: #6b7280;
  line-height: 1.45;
  padding-left: 18px;
}
.request-info-guide li {
  margin-bottom: 6px;
}
/* =============================== */
/*   BlueOn ì»¤ìŠ¤í…€ í† ìŠ¤íŠ¸ ì•ŒëŒ     */
/* =============================== */
.toast {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #0056ff;
  color: #fff;
  padding: 14px 20px;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 600;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  opacity: 0;
  pointer-events: none;
  transform: translateY(-20px);
  transition: 0.35s ease;
  z-index: 9999;
}

.toast.show {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.input-error::placeholder {
  color: #ef4444;
}
/* ğŸ”µ í‚¤ì›Œë“œ íƒœê·¸ ì „ì²´ ë°•ìŠ¤ */
#keywordList {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 12px;
  background: #eef4ff;
  border-radius: 8px;
}
/* ============================
   ëŒ€/í•˜ìœ„ ì¹´í…Œê³ ë¦¬ ì „ì²´ UI 
============================ */
.category-box {
  width: 100%;
  height: 300px;
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 12px;
  display: grid;
  grid-template-columns: 220px 1fr;
  box-shadow: 0 6px 20px rgba(0,0,0,0.05);
  margin-top: 12px;
  overflow: hidden;
}

/* ì™¼ìª½ ëŒ€ë¶„ë¥˜ */
.category-left {
  border-right: 1px solid #e5e7eb;
  overflow-y: auto;
  background: #fafafa;
}

.category-left div {
  padding: 12px 14px;
  border-bottom: 1px solid #ececec;
  font-size: 15px;
  cursor: pointer;
}

.category-left div:hover,
.category-left div.active {
  background: #eef4ff;
  color: #0056ff;
  font-weight: 700;
}

/* ì˜¤ë¥¸ìª½ í•˜ìœ„ ì¹´í…Œê³ ë¦¬ */
.category-right {
  overflow-y: auto;
  background: #ffffff;
}

.category-right div {
  padding: 12px 14px;
  border-bottom: 1px solid #f1f5f9;
  cursor: pointer;
  font-size: 15px;
}

.category-right div:hover {
  background: #f3f8ff;
}
.category-right div.active {
  background: #eef4ff;
  color: #0056ff;
  font-weight: 700;
}

</style>
</head>

<body>

<!-- HEADER -->
<header class="bo-header">
  <div class="bo-header-inner">
    <div class="bo-logo" onclick="location.href='index.html'">
      <span>BlueOn</span>
    </div>

    <!-- ì—¬ê¸°ì„œ ì„ì‹œ ì €ì¥ â†’ ì„œë¹„ìŠ¤ ë“±ë¡ìœ¼ë¡œ ë³€ê²½ -->
    <button class="bo-submit-btn" onclick="submitService()">ì„œë¹„ìŠ¤ ë“±ë¡</button>
  </div>

  <div class="bo-header-line"></div>
</header>


<!-- MAIN -->
<div class="wrapper">

  <!-- LEFT -->
  <aside>
    <h2>ì„œë¹„ìŠ¤ ë“±ë¡</h2>
    <div class="menu-item active" data-target="basic">ê¸°ë³¸ì •ë³´</div>
    <div class="menu-item" data-target="price">ê°€ê²© ì„¤ì •</div>
    <div class="menu-item" data-target="description">ì„œë¹„ìŠ¤ ì„¤ëª…</div>
    <div class="menu-item" data-target="images">ì´ë¯¸ì§€</div>
    <div class="menu-item" data-target="request">ìš”ì²­ì‚¬í•­</div>
  </aside>

  <!-- RIGHT CONTENT -->
  <div class="content">

    <!-- ê¸°ë³¸ì •ë³´ -->
    <div class="section active" id="basic">
      <div class="card">
        <div class="section-header">
          <div class="step-label">STEP 1</div>
          <h3>ë¸Œëœë“œ ê¸°ë°˜ ì„œë¹„ìŠ¤ ê¸°ë³¸ ì •ë³´</h3>
        </div>

        <label>ì„œë¹„ìŠ¤ ì œëª©</label>
        <input id="svcTitle" type="text" placeholder="ì˜ˆ: íŒ¨ì…˜ ì‡¼í•‘ëª° í’€íŒ¨í‚¤ì§€ êµ¬ì¶• / ë¡œê³ Â·BI ë””ìì¸">

        <label>ì„œë¹„ìŠ¤ ì¹´í…Œê³ ë¦¬</label>

<div class="category-box">
  <div class="category-left" id="catMainList"></div>
  <div class="category-right" id="catSubList"></div>
</div>

<input type="hidden" id="mainCategory">
<input type="hidden" id="subCategory">


        <label>ê²€ìƒ‰ í‚¤ì›Œë“œ</label>

<div class="keyword-row">
    <input id="keywordInput" type="text" placeholder="í‚¤ì›Œë“œ ì…ë ¥ (ìµœëŒ€ 5ê°œ)" maxlength="15">
    <button id="addKeywordBtn" type="button">ì¶”ê°€</button>
</div>

<!-- í‚¤ì›Œë“œ ê°œìˆ˜ ì¹´ìš´íŠ¸ëŠ” ì—¬ê¸° ì•„ë˜! -->
<div class="keyword-counter">
  <span id="keywordCount">0/5</span>
</div>

<!-- ìƒì„±ëœ í‚¤ì›Œë“œ íƒœê·¸ ì˜ì—­ -->
<div id="keywordList"></div>

<input id="keywords" type="hidden">



      </div>
    </div>

    <!-- STEP 2 ê°€ê²© ì„¤ì • -->
<div class="section" id="price">
  <div class="card">

    <div class="section-header">
      <div class="section-header-left">
        <div class="step-label">STEP 2</div>
        <h3>ê°€ê²© ë° ì œê³µ ë²”ìœ„ ì„¤ì •</h3>
        <p>ê¸°ë³¸ ë‹¨ì¼ ê°€ê²© ë˜ëŠ” BASIC / STANDARD / PREMIUM íŒ¨í‚¤ì§€ í˜•íƒœë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      </div>

      <!-- íŒ¨í‚¤ì§€ í† ê¸€ -->
      <div class="price-toggle">
        <span>íŒ¨í‚¤ì§€ë¡œ ê°€ê²© ì„¤ì •</span>
        <label class="switch">
          <input type="checkbox" id="packageToggle">
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <!-- â– â– â–  ë‹¨ì¼ ê°€ê²© ì˜ì—­ (í† ê¸€ OFF) â– â– â–  -->
    <div id="singlePriceBox">

      <label>ì œëª©</label>
      <input id="singleTitle" type="text" placeholder="ì˜ˆ: ê¸°ë³¸ ì‡¼í•‘ëª° ì œì‘ íŒ¨í‚¤ì§€">

      <label>ì„¤ëª…</label>
      <textarea id="singleDesc" rows="4" placeholder="ì˜ˆ: ë©”ì¸ í˜ì´ì§€ + ê¸°ë³¸ êµ¬ì„±"></textarea>

      <div class="field-row">
        <div class="field">
          <label>ê¸ˆì•¡ (â‚©)</label>
          <input id="singlePrice" type="number" placeholder="300000">
        </div>
        <div class="field">
          <label>ì‘ì—… ê¸°ê°„</label>
          <input id="singleDuration" type="text" placeholder="7ì¼">
        </div>
      </div>

      <label>ìˆ˜ì • íšŸìˆ˜</label>
      <input id="singleRevision" type="text" placeholder="1íšŒ">

      <label>ì œê³µ í•­ëª©</label>
      <textarea id="singleOffer" rows="4" placeholder="ì˜ˆ: ìƒì„¸í˜ì´ì§€ 3ì¥ í¬í•¨"></textarea>
    </div>

    <!-- â– â– â–  íŒ¨í‚¤ì§€ ê°€ê²© (í† ê¸€ ON) â– â– â–  -->
    <div id="packagePriceBox" style="display:none;">

      <div class="price-table">

        <!-- í…Œì´ë¸” í—¤ë” -->
        <div class="price-table-header">
          <div></div>
          <div class="price-col-title">BASIC</div>
          <div class="price-col-title">STANDARD</div>
          <div class="price-col-title">PREMIUM</div>
        </div>

        <!-- ì œëª© -->
        <div class="price-row">
          <div class="price-row-label">ì œëª©</div>
          <div class="price-cell"><input id="basicTitle" type="text"></div>
          <div class="price-cell"><input id="standardTitle" type="text"></div>
          <div class="price-cell"><input id="premiumTitle" type="text"></div>
        </div>

        <!-- ì„¤ëª… -->
        <div class="price-row">
          <div class="price-row-label">ì„¤ëª…</div>
          <div class="price-cell"><textarea id="basicDesc" rows="3"></textarea></div>
          <div class="price-cell"><textarea id="standardDesc" rows="3"></textarea></div>
          <div class="price-cell"><textarea id="premiumDesc" rows="3"></textarea></div>
        </div>

        <!-- ê¸ˆì•¡ -->
        <div class="price-row">
          <div class="price-row-label">ê¸ˆì•¡ (â‚©)</div>
          <div class="price-cell"><input id="basicPrice" type="number"></div>
          <div class="price-cell"><input id="standardPrice" type="number"></div>
          <div class="price-cell"><input id="premiumPrice" type="number"></div>
        </div>

        <!-- ì‘ì—…ê¸°ê°„ -->
        <div class="price-row">
          <div class="price-row-label">ì‘ì—… ê¸°ê°„</div>
          <div class="price-cell"><input id="basicDuration" type="text"></div>
          <div class="price-cell"><input id="standardDuration" type="text"></div>
          <div class="price-cell"><input id="premiumDuration" type="text"></div>
        </div>

        <!-- ìˆ˜ì •íšŸìˆ˜ -->
        <div class="price-row">
          <div class="price-row-label">ìˆ˜ì • íšŸìˆ˜</div>
          <div class="price-cell"><input id="basicRevision" type="text"></div>
          <div class="price-cell"><input id="standardRevision" type="text"></div>
          <div class="price-cell"><input id="premiumRevision" type="text"></div>
        </div>
        <!-- ì œê³µ í•­ëª© -->
        <div class="price-row">
          <div class="price-row-label">ì œê³µ í•­ëª©</div>
          <div class="price-cell"><textarea id="basicOffer" rows="3"></textarea></div>
          <div class="price-cell"><textarea id="standardOffer" rows="3"></textarea></div>
          <div class="price-cell"><textarea id="premiumOffer" rows="3"></textarea></div>
        </div>

      </div>

    </div>

    <!-- ì„œë²„ì „ì†¡ íˆë“  í•„ë“œ -->
    <input type="hidden" id="priceBasic">
    <input type="hidden" id="duration">
    <textarea id="offerItems" style="display:none;"></textarea>
    <input type="hidden" id="revisionCount">
    <input type="hidden" id="isPackageMode">
    <input type="hidden" id="packageJson">

  </div>
</div>


    <!-- ì„¤ëª… -->
    <div class="section" id="description">
      <div class="card">
        <div class="section-header">
          <div class="step-label">STEP 3</div>
          <h3>ì„œë¹„ìŠ¤ ì„¤ëª… & ë¸Œëœë“œ ë°©í–¥</h3>
        </div>

        <label>ì„œë¹„ìŠ¤ ì†Œê°œ</label>
<textarea id="descriptionTxt" rows="6"
  placeholder="ê³ ê°ì´ ì´ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ì–´ë–¤ ê²°ê³¼ë¬¼ì„ ì–»ëŠ”ì§€ ëª…í™•í•˜ê²Œ ì„¤ëª…í•´ì£¼ì„¸ìš”.
í•µì‹¬ ê¸°ëŠ¥, ì‘ì—… ë²”ìœ„, ì°¨ë³„ì  ë“±ì„ êµ¬ì²´ì ìœ¼ë¡œ ì ì„ìˆ˜ë¡ ê±°ë˜ ì„±ê³µë¥ ì´ ë†’ì•„ì§‘ë‹ˆë‹¤."></textarea>


        <label>ë¸Œëœë“œ ë°©í–¥ / ì»¨ì…‰</label>
<textarea id="brandConcept" rows="5"
  placeholder="ë¸Œëœë“œê°€ ì¶”êµ¬í•˜ëŠ” ë¶„ìœ„ê¸°, ì»¬ëŸ¬ í†¤, ë””ìì¸ ìŠ¤íƒ€ì¼ ë“±ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.
ì˜ˆ: ë¯¸ë‹ˆë©€, í”„ë¦¬ë¯¸ì—„, ê°ì„±, íŠ¸ë Œë””, ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ëŠë‚Œ ë“±"></textarea>

        <label>ì‘ì—… í”„ë¡œì„¸ìŠ¤</label>
<textarea id="process" rows="6"
  placeholder="ì‘ì—… ì§„í–‰ ìˆœì„œë¥¼ ë‹¨ê³„ë³„ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.
ì˜ˆ: ìƒë‹´ â†’ ê¸°íš â†’ ë””ìì¸ â†’ ê°œë°œ â†’ ê²€ìˆ˜ â†’ ìµœì¢… ì „ë‹¬"></textarea>

      </div>
    </div>

    <!-- ì´ë¯¸ì§€ -->
    <div class="section" id="images">
      <div class="card">
        <div class="section-header">
          <div class="step-label">STEP 4</div>
          <h3>ì´ë¯¸ì§€ ì—…ë¡œë“œ</h3>
        </div>

        <label>ë©”ì¸ ì´ë¯¸ì§€ (ìµœëŒ€ 4ì¥)</label>
        <div class="image-grid" id="mainImages"></div>

        <div class="image-tip-box">
  <div class="tip-title">TIP</div>
  <ul>
    <li>ë©”ì¸ ì´ë¯¸ì§€ ê¶Œì¥ í¬ê¸°: <b>652 Ã— 488px (4:3 ë¹„ìœ¨)</b></li>
    <li>ìƒì„¸ ì´ë¯¸ì§€ ê¶Œì¥ í¬ê¸°: <b>ê°€ë¡œ 860px / ì„¸ë¡œ ì œí•œ ì—†ìŒ</b></li>
    <li>ì €ì‘ê¶Œ ì¹¨í•´ ìš”ì†Œê°€ ì—†ëŠ” ì´ë¯¸ì§€ ì‚¬ìš©</li>
    <li>ê³¼ë„í•œ ë¬¸êµ¬, ê°€ê²©, ì—°ë½ì²˜ ì‚½ì… ê¸ˆì§€</li>
    <li>í™ë³´ì„± ë¬¸êµ¬ ë˜ëŠ” ì™¸ë¶€ í”Œë«í¼ ì¸ì¦ ë§ˆí¬ ì‚½ì… ë¶ˆê°€</li>
    <li>ì„œë¹„ìŠ¤ í’ˆì§ˆê³¼ ë¬´ê´€í•œ í‘œí˜„(1ìœ„, ë¬´ì œí•œ ë“±) í‘œì‹œ ë¶ˆê°€</li>
  </ul>
</div>

        <label>ìƒì„¸ ì´ë¯¸ì§€ (ìµœëŒ€ 8ì¥)</label>
        <div class="image-grid" id="detailImages"></div>

        <input type="file" id="fileInput" accept="image/*" style="display:none">
      </div>
    </div>

    <div class="section" id="request">
  <div class="card">

     <div class="section-header">
      <div class="step-label">STEP 5</div>
      <h3>ê³ ê°ì—ê²Œ ìš”ì²­í•  ì •ë³´</h3>
    </div>

    <!-- ğŸ”¥ ìš”ì²­ì‚¬í•­ JSONì„ ì„œë²„ë¡œ ë³´ë‚´ê¸° ìœ„í•œ íˆë“ í•„ë“œ -->
    <input type="hidden" id="requestData">

    <!-- ìš”ì²­ì‚¬í•­ ë¦¬ìŠ¤íŠ¸ -->
    <div id="requestList"></div>
    <!-- ì¶”ê°€ ë²„íŠ¼ -->
    <button type="button" id="addRequestBtn" class="add-request-btn">
      + ìš”ì²­ì‚¬í•­ ì¶”ê°€
    </button>

    <!-- ì•ˆë‚´ë¬¸ -->
    <ul class="request-info-guide">
      <li>ì‘ì—… ì‹œì‘ ì „ ì˜ë¢°ì¸ìœ¼ë¡œë¶€í„° ì „ë‹¬ë°›ì•„ì•¼ í•˜ëŠ” í•„ìˆ˜ ì •ë³´ ë° íŒŒì¼ë“¤ì„ ë¯¸ë¦¬ ì‘ì„±í•´ë‘ë©´ ê²°ì œ ì§í›„ ìë™ìœ¼ë¡œ ì˜ë¢°ì¸ì—ê²Œ ì „ë‹¬ë©ë‹ˆë‹¤.</li>
      <li>ê²°ì œ í›„ ìš”ì²­ì‚¬í•­ì— ë‹µë³€ì´ í¬í•¨ë˜ì§€ ì•Šìœ¼ë©´ ê±°ë˜ ì§„í–‰ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>ìš”ì²­ì‚¬í•­ì€ ì „ë¬¸ê°€ê°€ ì§ì ‘ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©° ììœ ë¡­ê²Œ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
    </ul>


  
  </div>
</div>

  </div>
</div>

<script>

/* ========================================================= */
/*   ğŸ”¥ íŒ¨í‚¤ì§€ ê°€ê²© input ë³€ìˆ˜ ì„ ì–¸ (ì œì¼ ìœ„ì— ìˆì–´ì•¼ í•¨)     */
/* ========================================================= */
const basicTitle = document.getElementById("basicTitle");
const basicDesc = document.getElementById("basicDesc");
const basicPrice = document.getElementById("basicPrice");
const basicDuration = document.getElementById("basicDuration");
const basicRevision = document.getElementById("basicRevision");

const standardTitle = document.getElementById("standardTitle");
const standardDesc = document.getElementById("standardDesc");
const standardPrice = document.getElementById("standardPrice");
const standardDuration = document.getElementById("standardDuration");
const standardRevision = document.getElementById("standardRevision");

const premiumTitle = document.getElementById("premiumTitle");
const premiumDesc = document.getElementById("premiumDesc");
const premiumPrice = document.getElementById("premiumPrice");
const premiumDuration = document.getElementById("premiumDuration");
const premiumRevision = document.getElementById("premiumRevision");



/* ========================================================= */
/* íƒ­ ì „í™˜ */
/* ========================================================= */
document.querySelectorAll(".menu-item").forEach(item => {
  item.addEventListener("click", () => {
    document.querySelectorAll(".menu-item").forEach(i => i.classList.remove("active"));
    item.classList.add("active");

    document.querySelectorAll(".section").forEach(sec => sec.classList.remove("active"));
    document.getElementById(item.dataset.target).classList.add("active");
  });
});


/* ========================================================= */
/* ì¹´í…Œê³ ë¦¬ ì—°ë™ */
/* ========================================================= */
const mainCategory = document.getElementById("mainCategory");
const subCategory = document.getElementById("subCategory");

const categoryMap = {
  brand_design: [
    "ìƒì„¸í˜ì´ì§€ ì œì‘",
    "ë°°ë„ˆ ë””ìì¸",
    "ë¡œê³  ë””ìì¸",
    "ë¸Œëœë“œ í‚¤ë¹„ì£¼ì–¼",
    "SNS ì¹´ë“œ ë‰´ìŠ¤"
  ],
  shop_build: [
    "ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ì»¤ìŠ¤í„°ë§ˆì´ì§•",
    "ìì‚¬ëª° êµ¬ì¶•",
    "ëœë”©í˜ì´ì§€ ì œì‘",
    "í™ˆí˜ì´ì§€ ê°œë°œ"
  ],
  marketing: [
    "ì¸ìŠ¤íƒ€ê·¸ë¨ ìš´ì˜ ëŒ€í–‰",
    "ë„¤ì´ë²„ ë¸”ë¡œê·¸ ìµœì í™”",
    "SEO ìƒìœ„ë…¸ì¶œ",
    "ê´‘ê³  ì§‘í–‰",
    "í‹±í†¡ ë§ˆì¼€íŒ…"
  ],
  development: [
    "API ì—°ë™",
    "ë°±ì—”ë“œ ê°œë°œ",
    "ê´€ë¦¬ì í˜ì´ì§€ ê°œë°œ",
    "ìë™í™”Â·ë´‡ ì‹œìŠ¤í…œ ê°œë°œ",
    "ì‡¼í•‘ëª° ì»¤ìŠ¤í„°ë§ˆì´ì§• ê¸°ëŠ¥ ê°œë°œ"
  ],
 brand_spread: [
  "ìˆí¼ ì˜ìƒ ì œì‘",
  "ì œí’ˆ ì´¬ì˜",
  "ë¦¬ë·° ì˜ìƒ ì œì‘",
  "ë¸Œëœë“œ ìŠ¤í† ë¦¬ ì˜ìƒ ì œì‘",
  "ì œí’ˆ ì†Œê°œ ì˜ìƒ ì œì‘",
],
brand_setting: [
  "SNS ê³„ì • ë¸Œëœë”©",
  "ë¸Œëœë“œ ê³„ì • ì„¸íŒ…",
  "SNS ê³„ì • í™œì„±í™” ì„œë¹„ìŠ¤",
  "ì¸í”Œë£¨ì–¸ì„œ ë§ˆì¼€íŒ…"
],
template: [
  "ì¹´ë“œë‰´ìŠ¤ í…œí”Œë¦¿",
  "í”¼ë“œ ë””ìì¸ í…œí”Œë¦¿",
  "SNS ì´ë²¤íŠ¸ ë””ìì¸",  
  "SNS ë””ìì¸ í…œí”Œë¦¿ íŒ¨í‚¤ì§€"
],

brand_SEO : [
  "ê²€ìƒ‰ ìƒìœ„ë…¸ì¶œ íŒ¨í‚¤ì§€",
  "í‚¤ì›Œë“œ ìƒìœ„ë…¸ì¶œ ì„œë¹„ìŠ¤",
  "ë„¤ì´ë²„Â·êµ¬ê¸€ ê²€ìƒ‰ ë…¸ì¶œ ìµœì í™”",
  "SEO íŠ¸ë˜í”½ ìƒìŠ¹ ì„œë¹„ìŠ¤"
],

youtube_channel: [
  "ìœ íŠœë¸Œ ì˜ìƒ í¸ì§‘",
  "ìœ íŠœë¸Œ ì˜ìƒ ì»¤ë²„ ë””ìì¸",
  "ìœ íŠœë¸Œ ì¸ë„¤ì¼ íŒ¨í‚¤ì§€",
  "ìœ íŠœë¸Œ ì˜ìƒ ì˜¤í”„ë‹ Â· ì—”ë”© ë””ìì¸"
],

SNS_design: [
  "SNS ëœë”© í˜ì´ì§€ ì œì‘",
  "SNS ë°”ì´ëŸ´ ë§ˆì¼€íŒ…",
  "SNS í™œìš© ì´ë²¤íŠ¸ ê¸°íš",
],

expand_channel: [
"ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ìš´ì˜ Â· ë¦¬ë·° ê´€ë¦¬ ",
"ìœ íŠœë¸Œ ì±„ë„ ìš´ì˜ Â· ì‡¼ì¸  ì œì‘",
"ìì‚¬ëª° CRO",
"ë„¤ì´ë²„ ì¹´í˜ ë§ˆì¼€íŒ…"
],

auto_system: [
  "ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ ìë™ ë¶„ë¥˜(ì‹ ê·œÂ·ì´íƒˆÂ·ì¬êµ¬ë§¤ ê³ ê°)",
  "SNS ê²Œì‹œë¬¼/ê´‘ê³  ìë™ ì˜ˆì•½Â·ë°œí–‰",
  "ì£¼ë¬¸/ì¬ê³  ë³€ë™ ì‹œ ìë™ ê¸°ë¡Â·ìë™ ì—…ë°ì´íŠ¸",
  "ì‹¤ì‹œê°„ ë¬¸ì˜ â†’ ìƒë‹´ì›(ì „ë¬¸ê°€) ìë™ ì—°ê²°"
],


expand_brand_model: [
  "ì‹œì¦Œ í•œì •/í…Œë§ˆ ì œí’ˆ ê°œë°œ",
  "ë¸Œëœë“œ ë©¤ë²„ì‹­/í¬ì¸íŠ¸ ì‹œìŠ¤í…œ êµ¬ì¶•",
  "ì˜¤í”„ë¼ì¸ íŒì—…ìŠ¤í† ì–´ ê¸°íš",
  "ì „ë¬¸ê°€/ê¸°ì—… ëŒ€ìƒ ì œí’ˆ ê¸°íš"
],

data_marketing: [
  "ê³ ê° ë°ì´í„° ë¶„ì„",
  "CRM ì„¸íŒ… Â· ìë™í™” êµ¬ì¶•",
  "ë¦¬í…ì…˜ ë§ˆì¼€íŒ… ì„¤ê³„",
  "ë°ì´í„° ê¸°ë°˜ ê´‘ê³  ìµœì í™”"
]
};

mainCategory.addEventListener("change", () => {
  subCategory.innerHTML = `<option disabled selected>í•˜ìœ„ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>`;
  (categoryMap[mainCategory.value] || []).forEach(c => {
  const opt = document.createElement("option");
  opt.value = c.trim();        // â† ì¶”ê°€!!!
  opt.textContent = c.trim();  // â† ì¶”ê°€!!!
  subCategory.appendChild(opt);
});

});



/* ========================================================= */
/* í‚¤ì›Œë“œ */
/* ========================================================= */
let keywordsArr = [];

const keywordInput = document.getElementById("keywordInput");
const addKeywordBtn = document.getElementById("addKeywordBtn");
const keywordList = document.getElementById("keywordList");
const keywordsHidden = document.getElementById("keywords");
const keywordCount = document.getElementById("keywordCount");

function updateKeywordUI() {
  keywordList.innerHTML = "";

  keywordsArr.forEach((kw, i) => {
    const tag = document.createElement("div");
    tag.style = `
  display: inline-flex;
  align-items: center;
  width: fit-content;
  padding: 6px 10px;
  background: #ffffff;
  border: 1px solid #d0dcff;
  border-radius: 6px;
  font-size: 13px;
  white-space: nowrap;
`;

    tag.innerHTML = `
      <span>${kw}</span>
      <button data-i="${i}" style="background:none;border:none;cursor:pointer;">Ã—</button>
    `;
    keywordList.appendChild(tag);
  });

  keywordCount.textContent = `${keywordsArr.length}/5`;
  keywordsHidden.value = keywordsArr.join(",");
}

addKeywordBtn.addEventListener("click", () => {
  const kw = keywordInput.value.trim();
  if (!kw) return showToast("í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");

  if (keywordsArr.length >= 5) return showToast("í‚¤ì›Œë“œëŠ” ìµœëŒ€ 5ê°œê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
  if (keywordsArr.includes(kw)) return showToast("ì´ë¯¸ ì…ë ¥í•œ í‚¤ì›Œë“œì…ë‹ˆë‹¤.");

  keywordsArr.push(kw);
  keywordInput.value = "";
  updateKeywordUI();
});

keywordList.addEventListener("click", (e) => {
  if (e.target.tagName === "BUTTON") {
    keywordsArr.splice(e.target.dataset.i, 1);
    updateKeywordUI();
  }
});



/* ========================================================= */
/* ì´ë¯¸ì§€ ì—…ë¡œë“œ */
/* ========================================================= */
let currentType = null;
let currentIndex = null;

const mainMax = 4;
const detailMax = 8;

const mainImagesFiles = Array(mainMax).fill(null);
const detailImagesFiles = Array(detailMax).fill(null);

const mainImagesGrid = document.getElementById("mainImages");
const detailImagesGrid = document.getElementById("detailImages");

function initImageCards() {
  createCard("main", 0);
  createCard("detail", 0);
}
initImageCards();

function createCard(type, index) {
  const card = document.createElement("div");
  card.classList.add("img-card");
  card.dataset.type = type;
  card.dataset.index = index;

  card.addEventListener("click", () => {
    currentType = type;
    currentIndex = index;
    document.getElementById("fileInput").click();
  });

  if (type === "main") mainImagesGrid.appendChild(card);
  else detailImagesGrid.appendChild(card);
}

document.getElementById("fileInput").addEventListener("change", (e) => {
  const file = e.target.files[0];
  if (!file) return;

  if (currentType === "main") mainImagesFiles[currentIndex] = file;
  else detailImagesFiles[currentIndex] = file;

  const reader = new FileReader();
  reader.onload = () => showImage(reader.result);
  reader.readAsDataURL(file);
});

function showImage(imgData) {
  const grids = {
    main: { max: mainMax, files: mainImagesFiles, grid: mainImagesGrid },
    detail: { max: detailMax, files: detailImagesFiles, grid: detailImagesGrid },
  };

  const g = grids[currentType];
  const card = g.grid.querySelectorAll(".img-card")[currentIndex];

  card.style.backgroundImage = `url(${imgData})`;
  card.classList.add("has-image");

  const next = currentIndex + 1;
  if (next < g.max) {
    const exists = g.grid.querySelector(`.img-card[data-index="${next}"]`);
    if (!exists) createCard(currentType, next);
  }
}


/* ========================================================= */
/* ğŸ”¥ BlueOn ì„œë¹„ìŠ¤ ë“±ë¡ - ë‹¨ê³„ë³„ ìˆœì„œ ê²€ì¦ ìµœì¢… ë²„ì „       */
/* ========================================================= */
function validateRequiredFields() {

  // ğŸ”¹ ê¸°ì¡´ ì˜¤ë¥˜ ì œê±°
  document.querySelectorAll(".input-error").forEach(el => {
    el.classList.remove("input-error");
  });


  /* =======================================================
     â­ STEP1 â€” ê¸°ë³¸ì •ë³´ 
     (ì œëª© / ìƒìœ„ì¹´í…Œê³ ë¦¬ / í•˜ìœ„ì¹´í…Œê³ ë¦¬ / í‚¤ì›Œë“œ)
  ======================================================= */
  const step1 = [
    { el: svcTitle,     msg: "ì„œë¹„ìŠ¤ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”." },
    { el: mainCategory, msg: "ìƒìœ„ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”.", type: "select" },
    { el: subCategory,  msg: "í•˜ìœ„ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”.", type: "select" },
    { type: "keywords", msg: "í‚¤ì›Œë“œë¥¼ ìµœì†Œ 1ê°œ ì…ë ¥í•˜ì„¸ìš”." }
  ];

  for (const f of step1) {

    // í‚¤ì›Œë“œ ê²€ì‚¬
    if (f.type === "keywords") {
      if (keywordsArr.length === 0) {
        showToast(f.msg);
        document.getElementById("basic").scrollIntoView({ behavior: "smooth" });
        return false;
      }
      continue;
    }

    // select ê²€ì‚¬
    if (f.type === "select") {
      if (!f.el.value || f.el.selectedIndex === 0) {
        f.el.classList.add("input-error");
        showToast(f.msg);
        f.el.scrollIntoView({ behavior: "smooth", block: "center" });
        return false;
      }
      continue;
    }

    // ì¼ë°˜ input ê²€ì‚¬
    if (!f.el.value || f.el.value.trim() === "") {
      f.el.classList.add("input-error");
      showToast(f.msg);
      f.el.scrollIntoView({ behavior: "smooth", block: "center" });
      return false;
    }
  }


  /* =======================================================
     â­ STEP2 â€” ê°€ê²© ì„¤ì • 
     ë‹¨ì¼ ê°€ê²© vs íŒ¨í‚¤ì§€ ê°€ê²© ëª¨ë“œ ì „ìš© ê²€ì¦
  ======================================================= */
  if (!packageToggle.checked) {

    // ë‹¨ì¼ ê°€ê²© ëª¨ë“œ
    const step2_single = [
      { el: singleTitle,     msg: "ë‹¨ì¼ ê°€ê²© ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”." },
      { el: singleDesc,      msg: "ë‹¨ì¼ ê°€ê²© ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”." },
      { el: singlePrice,     msg: "ë‹¨ì¼ ê°€ê²© ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”." },
      { el: singleDuration,  msg: "ì‘ì—… ê¸°ê°„ì„ ì…ë ¥í•˜ì„¸ìš”." }
    ];

    for (const f of step2_single) {
      if (!f.el.value || f.el.value.trim() === "") {
        f.el.classList.add("input-error");
        showToast(f.msg);
        document.getElementById("price").scrollIntoView({ behavior: "smooth" });
        return false;
      }
    }

  } else {

    // íŒ¨í‚¤ì§€ ê°€ê²© ëª¨ë“œ
    const step2_pack = [
      { el: basicTitle,      msg: "BASIC ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”." },
      { el: basicPrice,      msg: "BASIC ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”." },
      { el: standardTitle,   msg: "STANDARD ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”." },
      { el: premiumTitle,    msg: "PREMIUM ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”." }
    ];

    for (const f of step2_pack) {
      if (!f.el.value || f.el.value.trim() === "") {
        f.el.classList.add("input-error");
        showToast(f.msg);
        document.getElementById("price").scrollIntoView({ behavior: "smooth" });
        return false;
      }
    }
  }


  /* =======================================================
     â­ STEP3 â€” ì„œë¹„ìŠ¤ ì„¤ëª… / ë¸Œëœë“œ ë°©í–¥ / í”„ë¡œì„¸ìŠ¤
  ======================================================= */
  const step3 = [
    { el: descriptionTxt, msg: "ì„œë¹„ìŠ¤ ì†Œê°œë¥¼ ì…ë ¥í•˜ì„¸ìš”." },
    { el: brandConcept,   msg: "ë¸Œëœë“œ ë°©í–¥ì„ ì…ë ¥í•˜ì„¸ìš”." },
    { el: process,        msg: "ì‘ì—… í”„ë¡œì„¸ìŠ¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”." }
  ];

  for (const f of step3) {
    if (!f.el.value || f.el.value.trim() === "") {
      f.el.classList.add("input-error");
      showToast(f.msg);
      document.getElementById("description").scrollIntoView({ behavior: "smooth" });
      return false;
    }
  }


  /* =======================================================
     â­ STEP4 â€” ìµœì†Œ 1ì¥ì˜ ë©”ì¸ì´ë¯¸ì§€
  ======================================================= */
  const hasMainImage = mainImagesFiles.some(f => f !== null);

  if (!hasMainImage) {
    showToast("ë©”ì¸ ì´ë¯¸ì§€ë¥¼ ìµœì†Œ 1ì¥ ì—…ë¡œë“œí•˜ì„¸ìš”.");
    document.getElementById("images").scrollIntoView({ behavior: "smooth" });
    return false;
  }

  return true; // ğŸ”¥ ì „ì²´ PASS
}


/* ========================================================= */
/* ì„œë¹„ìŠ¤ ë“±ë¡ */
/* ========================================================= */
async function submitService() {

  // ğŸ”¥ í•„ìˆ˜ ì…ë ¥ ê²€ì¦
  if (!validateRequiredFields()) {
    return; // ì˜¤ë¥˜ ë°œìƒ ì‹œ ì„œë²„ë¡œ ì „ì†¡í•˜ì§€ ì•ŠìŒ
  }

  // ì €ì¥ í† ìŠ¤íŠ¸
  showToast("ì €ì¥ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");

  const fd = new FormData();

  /* ê³µí†µ ì •ë³´ */
  fd.append("title", svcTitle.value);
  fd.append("mainCategory", mainCategory.value);
  fd.append("subCategory", subCategory.value);
  fd.append("keywords", keywordsArr.join(","));
  fd.append("description", descriptionTxt.value);
  fd.append("brandConcept", brandConcept.value);
  fd.append("process", process.value);
  fd.append("customerRequest", requestDataHidden.value);

  /* ê°€ê²© ì •ë³´ */
  fd.append("isPackageMode", packageToggle.checked ? "1" : "0");

  if (!packageToggle.checked) {
    // ë‹¨ì¼ ê°€ê²© ëª¨ë“œ
    fd.append("priceBasic", singlePrice.value);
    fd.append("duration", singleDuration.value);
    fd.append("revisionCount", singleRevision.value);
    fd.append("offerItems", singleOffer.value);
  } else {
    // íŒ¨í‚¤ì§€ ëª¨ë“œ
    fd.append("packageJson", buildPackageJson());
  }

  /* ì´ë¯¸ì§€ */
  mainImagesFiles.forEach((f) => {
    if (f) fd.append("mainImages", f);
  });

  detailImagesFiles.forEach((f) => {
    if (f) fd.append("detailImages", f);
  });

/* ì„œë²„ ì „ì†¡ */
try {
  const res = await fetch("https://blueon.up.railway.app/services/create", {
    method: "POST",
    body: fd,
    credentials: "include"   // â­â­â­ ë°˜ë“œì‹œ í•„ìš”
  });

  const json = await res.json();
  console.log("ğŸ“Œ ë“±ë¡ ê²°ê³¼:", json);

  if (json.success) {
    showToast("ë“±ë¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
    setTimeout(() => {
      window.location.href = "mypage.html";
    }, 1200);
  } else {
    showToast("ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì…ë ¥ ë‚´ìš©ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
  }

} catch (err) {
  console.error("âŒ ì„œë²„ ì˜¤ë¥˜:", err);
  showToast("ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
} 
} // ğŸ”¥ catch ë‹«ìŒ
// ğŸ”¥ ì„œë¹„ìŠ¤ ë“±ë¡ í•¨ìˆ˜(ë¹„ë™ê¸° í•¨ìˆ˜) ìì²´ë¥¼ ë‹«ì•„ì•¼ í•¨ â†’ ì—¬ê¸°ì— } ê°€ í•˜ë‚˜ ë” í•„ìš”





/* ========================================================= */
/* ê°€ê²© í† ê¸€ */
/* ========================================================= */
const packageToggle = document.getElementById("packageToggle");
const singlePriceBox = document.getElementById("singlePriceBox");
const packagePriceBox = document.getElementById("packagePriceBox");

packageToggle.addEventListener("change", () => {
  if (packageToggle.checked) {
    singlePriceBox.style.display = "none";
    packagePriceBox.style.display = "block";
  } else {
    singlePriceBox.style.display = "block";
    packagePriceBox.style.display = "none";
  }
});



/* ========================================================= */
/* íŒ¨í‚¤ì§€ JSON ìƒì„± */
/* ========================================================= */
function buildPackageJson() {
  return JSON.stringify({
    BASIC: {
      title: basicTitle.value,
      desc: basicDesc.value,
      price: basicPrice.value,
      duration: basicDuration.value,
      revision: basicRevision.value,
      offer: basicOffer.value
    },
    STANDARD: {
      title: standardTitle.value,
      desc: standardDesc.value,
      price: standardPrice.value,
      duration: standardDuration.value,
      revision: standardRevision.value,
      offer: standardOffer.value
    },
    PREMIUM: {
      title: premiumTitle.value,
      desc: premiumDesc.value,
      price: premiumPrice.value,
      duration: premiumDuration.value,
      revision: premiumRevision.value,
      offer: premiumOffer.value
    }
  });
}


/* ========================================================= */
/* Q/A ìš”ì²­ì‚¬í•­ */
/* ========================================================= */
const requestList = document.getElementById("requestList");
const addRequestBtn = document.getElementById("addRequestBtn");
const requestDataHidden = document.getElementById("requestData");

function createRequestCard(data = null) {
  const card = document.createElement("div");
  card.classList.add("request-card");

  card.innerHTML = `
    <button class="delete-btn" title="ì‚­ì œ">ğŸ—‘</button>

    <h4>Q.</h4>
    <input 
      type="text" 
      class="req-question" 
      placeholder="ê³ ê°ì—ê²Œ ì–´ë–¤ ì •ë³´ë¥¼ ìš”ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"
      value="${data ? data.question : ""}"
    >

    <h4>A.</h4>
    <textarea 
      class="req-answer" 
      rows="3" 
      placeholder="í•´ë‹¹ ì§ˆë¬¸ì„ ê³ ê°ì—ê²Œ ìš”ì²­í•´ì•¼ í•˜ëŠ” ì´ìœ  ë˜ëŠ” ì„¤ëª…ì„ ì‘ì„±í•´ì£¼ì„¸ìš”."
    >${data ? data.answer : ""}</textarea>
  `;

  // ì‚­ì œ ê¸°ëŠ¥
  card.querySelector(".delete-btn").addEventListener("click", () => {
    card.remove();
    saveRequestData();
  });

  // ì…ë ¥ ê°ì§€ â†’ ìë™ ì €ì¥
  card.querySelectorAll("input,textarea").forEach(el => {
    el.addEventListener("input", saveRequestData);
  });

  requestList.appendChild(card);
  saveRequestData();
}

// í•­ëª© ì¶”ê°€ ë²„íŠ¼
addRequestBtn.addEventListener("click", () => createRequestCard());

// ì „ì²´ ë°ì´í„° JSON ì €ì¥
function saveRequestData() {
  const arr = [];
  requestList.querySelectorAll(".request-card").forEach(card => {
    const q = card.querySelector(".req-question").value.trim();
    const a = card.querySelector(".req-answer").value.trim();
    if (q || a) arr.push({ question: q, answer: a });
  });
  requestDataHidden.value = JSON.stringify(arr);
}

// í˜ì´ì§€ ì²« ë¡œë”© ì‹œ ê¸°ë³¸ 1ê°œ ìƒì„±
document.addEventListener("DOMContentLoaded", () => createRequestCard());

/* ========================================================= */
/* í† ìŠ¤íŠ¸ */
/* ========================================================= */
function showToast(message) {
  const toast = document.getElementById("toast");
  if (!toast) return;
  toast.textContent = message;
  toast.classList.add("show");
  setTimeout(() => toast.classList.remove("show"), 2200);
}
/* ========================================================= */
/*    ìƒìœ„Â·í•˜ìœ„ ì¹´í…Œê³ ë¦¬ 2ë‹¨ êµ¬ì¡° (ìƒì‹œ í‘œì‹œ)               */
/* ========================================================= */

const catMain = document.getElementById("catMainList");
const catSub = document.getElementById("catSubList");

const mainHidden = document.getElementById("mainCategory");
const subHidden = document.getElementById("subCategory");

// ìƒìœ„ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ìƒì„±
function loadMainCategories() {
  catMain.innerHTML = "";
  Object.keys(categoryMap).forEach(key => {
    const item = document.createElement("div");
    item.textContent = convertKeyName(key);
    item.dataset.key = key;

    item.addEventListener("click", () => {
      document.querySelectorAll(".category-left div")
        .forEach(d => d.classList.remove("active"));
      item.classList.add("active");

      mainHidden.value = key;
      loadSubCategories(key);
    });

    catMain.appendChild(item);
  });
}

// í•˜ìœ„ ì¹´í…Œê³ ë¦¬ í‘œì‹œ + í´ë¦­ ì„ íƒ ê°€ëŠ¥í•˜ê²Œ
function loadSubCategories(mainKey) {
  const subs = categoryMap[mainKey] || [];
  catSub.innerHTML = "";

  subs.forEach(sub => {
    const el = document.createElement("div");
    el.textContent = sub;

    el.addEventListener("click", () => {
      // ì„ íƒ active íš¨ê³¼
      document.querySelectorAll(".category-right div")
        .forEach(d => d.classList.remove("active"));
      el.classList.add("active");

      // ì„ íƒëœ ê°’ hiddenì— ì €ì¥
      subHidden.value = sub;
    });

    catSub.appendChild(el);
  });
}

// key â†’ í•œêµ­ì–´ ì´ë¦„
function convertKeyName(key) {
  const map = {
    brand_design: "ë¸Œëœë“œ ë””ìì¸",
    shop_build:   "ì‡¼í•‘ëª° êµ¬ì¶•",
    marketing:    "ë¸Œëœë“œ ë§ˆì¼€íŒ…",
    development:  "ê°œë°œÂ·ì»¤ìŠ¤í„°ë§ˆì´ì§•",
    brand_spread: "ë¸Œëœë“œ ìŠ¤ì¼€ì¼ì—…",
    brand_setting: "ë¸Œëœë“œ ì„¸íŒ…",
    template: "í…œí”Œë¦¿",
    brand_SEO: "SEO ìµœì í™”",
    youtube_channel: "ìœ íŠœë¸Œ ì±„ë„ ë¸Œëœë”©",
    SNS_design:" SNS ë””ìì¸",
    expand_channel:"êµ­ë‚´ ì±„ë„ í™•ì¥ ì „ëµ",
    auto_system:"ìë™í™” ì‹œìŠ¤í…œ êµ¬ì¶•",
    expand_brand_model:"ë¸Œëœë“œ í™•ì¥ ëª¨ë¸ ê°œë°œ",
    data_marketing : "ë°ì´í„° ë§ˆì¼€íŒ…"

  };
  return map[key] || key;
}

// ì´ˆê¸° ì‹¤í–‰
loadMainCategories();

</script>

<div id="toast" class="toast"></div>
</body>
</html>
